---
title: "Resumen - Sesi√≥n 03 (post)"
output: html_document
---

# Resumen de funciones y conceptos: Sesi√≥n 03 (post)

En esta sesi√≥n se abordaron aspectos fundamentales de la **limpieza de datos**, una etapa cr√≠tica en cualquier proyecto de an√°lisis. El objetivo fue identificar y corregir problemas comunes que aparecen al importar datos desde archivos como Excel o CSV.

---

## üì¶ Librer√≠as utilizadas

```{r}
library(readxl)     # Para leer archivos de Excel (.xls, .xlsx)
library(readr)      # Lectura de archivos CSV
library(dplyr)      # Manipulaci√≥n de datos (select, mutate, bind_rows)
library(ggplot2)    # Visualizaci√≥n (no se us√≥ directamente en esta sesi√≥n)
library(lubridate)  # Manejo de fechas
library(janitor)    # Limpieza de nombres y estructuras
```

---

## üì• Carga de archivos y exploraci√≥n inicial

Se ley√≥ un archivo de Excel con la funci√≥n `read_xlsx()`:

```{r}
datos_ventas <- readxl::read_xlsx("VentasNum2024.xlsx", sheet = "Ventas")
head(datos_ventas)
names(datos_ventas)
```

---

## üßπ Limpieza de nombres con `janitor::clean_names()`

Problemas comunes con nombres de columnas:

- Tienen espacios.
- Caracteres especiales o acentos.
- Uso de may√∫sculas y min√∫sculas inconsistente.

```{r}
library(janitor)
datos_ventas <- clean_names(datos_ventas)
names(datos_ventas)
```

Esta funci√≥n convierte los nombres de columna a min√∫sculas, sin espacios, sin acentos y con guiones bajos (`_`).

---

## üß™ Comparaci√≥n de estructuras entre data frames

Cuando se intentan unir m√∫ltiples data frames, es com√∫n que las columnas no coincidan en nombre o tipo.

Se usaron tres data frames simulados:

```{r}
df1 <- data.frame(a = 1:2, b = c("grande", "peque√±o"))
df2 <- data.frame(a = 10:12, b = c("mediano", "peque√±o", "grande"), c = 0, stringsAsFactors = TRUE)
df3 <- df1 |> mutate(b = as.character(b))
```

Para revisar si son compatibles, se usa:

```{r}
compare_df_cols(df1, df2, df3)
```

Esta funci√≥n ayuda a detectar diferencias de estructura antes de intentar unirlos con `bind_rows()` o `rbind()`.

---

## üß© Problemas comunes al unir data frames

- Las columnas no tienen el mismo nombre.
- Las clases de las variables son diferentes (por ejemplo, `factor` vs `character`).
- Algunas columnas est√°n ausentes en uno u otro dataset.

---

## ‚úÖ Recomendaciones de limpieza

1. **Usar `clean_names()`** al importar cualquier archivo externo.
2. **Revisar estructuras con `str()` o `compare_df_cols()`** antes de combinar.
3. **Uniformizar clases con `mutate(across(...))`** si es necesario.
4. Documentar cada paso para evitar errores acumulados.

---

Este resumen cubre herramientas pr√°cticas para limpiar y armonizar datos, una fase cr√≠tica antes de an√°lisis, modelado o visualizaci√≥n.
